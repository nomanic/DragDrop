!function(){function e(e){var t=0,n=0
return e.targetTouches&&e.targetTouches.length>0?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}function t(e,t){return"string"==typeof e?""===e?t:document.getElementById(e):e}function n(e){var n=0,o=0,i=0,a=0,c=t(e),s=t(e).offsetWidth,u=t(e).offsetHeight
if(n=c.offsetLeft,o=c.offsetTop,c.offsetParent){for(var l=c;l=l.parentNode;)i=l.scrollTop?l.scrollTop:0,a=l.scrollLeft?l.scrollLeft:0,n-=a,o-=i
for(;c=c.offsetParent;)n+=c.offsetLeft,o+=c.offsetTop}var f=r?document.body.scrollLeft:window.pageXOffset,d=r?document.body.scrollTop:window.pageYOffset
return[n+f,n+f+s,o+d,o+d+u]}function o(e){var t=n(e)
return{x:t[0],y:t[2]}}var i="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,r=-1!=navigator.appName.indexOf("Microsoft Internet Explorer"),a="drag",c=function(){var e={},t=i?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},r=[],m=function(e,t){for(var n=0,o=r.length;o>n;n++)if(r[n]&&r[n].element===e&&r[n].anchor===t)return!0
return!1},p=function(e,t,n){r[e._id]&&r[e._id].events[t]&&n(r[e._id].events[t])},b=function(e,t){return t=t||{},t.element=e,t.anchor=t.anchor||e,t.boundingBox=t.boundingBox||null,t.releaseAnchors=t.releaseAnchors||[],t.releaseAnchors.unshift(document),t},T=1,A=function(){this._id=T++}
return A.prototype.unbind=function(){return c.unbind(this)},A.prototype.bindEvent=function(e,t){return c.bindEvent(this,e,t)},A.prototype.unbindEvent=function(e,t){return c.unbindEvent(this,e,t)},A.prototype.invokeEvent=function(e,t){return c.invokeEvent(this,e,t)},A.prototype.setBoundingBox=function(e){r[this._id].boundingBox=e},e.bind=function(e,p){if(p=b(e,p),!g(p.element))throw Error("Must give an element to drag")
if("static"===u(p.element,"position"))throw Error("Cannot drag-drop an element with position:static")
if(!m(p.element,p.anchor)){var T=new A,q={element:p.element,anchor:p.anchor,child:p.childscroll,center:p.center,click:p.click,dclick:p.dclick,clc:0,mving:0,momentum:p.momentum,mass:p.momentum,drag:p.drag?p.drag:.95,params:p.params,releaseAnchors:p.releaseAnchors,dragging:!1,event:null,shouldUnbind:!1,boundingBox:p.boundingBox,events:{beforedrag:w(p.beforedrag),dragstart:w(p.dragstart),dragend:w(p.dragend),drag:w(p.drag),unbind:w(p.unbind)}}
return q.event=x.bind(q.child?q.child:q.anchor,t.start,function(e){function r(){if(!q.mving){q.mving=1
var e=q.element
if(Math.abs(e.vx)>.5||Math.abs(e.vy)>.5){var t=Math.abs(((new Date).getTime()-e.d0.getTime())/1e3)
if(q.child){(q.x-=e.vx*t+(e.vx=e.vx*(1-q.drag*t)))+(q.y-=e.vy*t+(e.vy=e.vy*(1-q.drag*t)))+(e.d0=new Date)}else{(q.x+=e.vx*t+(e.vx=e.vx*(1-q.drag*t)))+(q.y+=e.vy*t+(e.vy=e.vy*(1-q.drag*t)))+(e.d0=new Date)}var n=q.x,o=q.y
if(q.boundingBox){var i,a,c,s,f=q.boundingBox
if("offsetParent"===f){var d=q.element.offsetParent
"relative"===u(q.element,"position")?(i=-P,c=-B):i=c=0,a=d.clientWidth+i,s=d.clientHeight+c}else if("windowSize"===f){var m=l()
"relative"===u(q.element,"position")?(i=-X.x,c=-X.y):i=c=0,a=m.x+i,s=m.y+c}else i=f.x.min,a=f.x.max,c=f.y.min,s=f.y.max
n=Math.max(i,Math.min(a-e.offsetWidth,n)),o=Math.max(c,Math.min(s-e.offsetHeight,o))}q.child?(e.scrollLeft=n,e.scrollTop=o,q.x=IV(e.scrollLeft),q.y=IV(e.scrollTop)):(e.style.left=n+"px",e.style.top=o+"px",q.x=e.offsetLeft,q.y=e.offsetTop),requestTimeout(r,100)}else e.vx=0,e.vy=0
q.mving=0}}function m(e){q.clc=0
var t=q.click
t?t(q.element):0}function g(e,t,n,o){return Math.sqrt((e-n)*(e-n)+(t-o)*(t-o))}function p(e){return function(t){for(var n=q.element,o=0,i=Y.length;i>o;o++)x.unbind(Y[o])
if(q.dragging=!1,v(n,a),q.shouldUnbind&&c.unbind(n,q.anchor),2==q.clc){if(q.clc=0,q.events.dragend.call(n,new y("dragend",t,q,{releaseAnchor:e},q.params)),q.momentum){n.d1=new Date
var s=Math.abs((n.d1.getTime()-n.d0.getTime())/500),u=s*s,l=1e-4*q.mass
if(q.child?(n.vx=l*(n.x0-n.scrollLeft)/u,n.vy=l*(n.y0-n.scrollTop)/u):(n.vx=l*(n.offsetLeft-n.x0)/u,n.vy=l*(n.offsetTop-n.y0)/u),Math.abs(n.vx)>200||Math.abs(n.vy)>200){var f=Math.abs(n.vx)/Math.abs(n.vy)
Math.abs(n.vx)>Math.abs(n.vy)?(n.vy=200/f*(n.vy>0?1:-1),n.vx=200*(n.vx>0?1:-1)):(n.vx=200*f*(n.vy>0?1:-1),n.vy=200*(n.vy>0?1:-1))}n.d0=new Date,r()}return d(t)}}}if(window.event&&1===e.button||0===e.button||i){d(e)
var w=q.child,b=i?e.changedTouches[0].pageX:e.clientX,T=i?e.changedTouches[0].pageY:e.clientY,A=q.element,E=A.offsetHeight,F=A.offsetWidth,L=q.dclick
q.events.beforedrag.call(A,new y("beforedrag",e,q),q.params),q.dragging=!0,h(A,a)
var M=n(A),R=1==q.center?b-M[0]-F/2:0,k=1==q.center?T-M[2]-E/2:0
if(w){var D=A.scrollLeft,C=A.scrollTop,P=A.scrollLeft,B=A.scrollTop,X=o(w)
A.x0=A.scrollLeft,A.y0=A.scrollTop}else{var D=s(A,"left")+R,C=s(A,"top")+k,P=A.offsetLeft,B=A.offsetTop,X=f(A)
A.x0=A.offsetLeft,A.y0=A.offsetTop}var Y=[],H=i?q.anchor:document
if(0==q.clc){q.clc=1
q.click?q.tm=requestTimeout(m,500):0}else if(1==q.clc&&L){q.clc=0
q.tm?clearRequestTimeout(q.tm):0,L?L(A):0
return d(e)}A.vx=0,A.vy=0,A.d0=new Date,A.d2=new Date,Y.push(x.bind(H,t.move,function(e){var t=i?e.changedTouches[0].pageX:e.clientX,n=i?e.changedTouches[0].pageY:e.clientY,o=q.element,r=o.offsetHeight,a=o.offsetWidth
if(o.d0=o.d2,o.d2=new Date,g(t,n,b,T)>3||2==q.clc){q.clc=2
q.tm?clearRequestTimeout(q.tm):0
if(w){o.x0=o.scrollLeft,o.y0=o.scrollTop
var c=D-(t-b),s=C-(n-T)}else{o.x0=o.offsetLeft,o.y0=o.offsetTop
var c=D+(t-b),s=C+(n-T)}if(q.boundingBox){var f,m,v,h,p=q.boundingBox
if("offsetParent"===p){var x=q.element.offsetParent
"relative"===u(q.element,"position")?(f=-P,v=-B):f=v=0,m=x.clientWidth+f,h=x.clientHeight+v}else if("windowSize"===p){var A=l()
"relative"===u(q.element,"position")?(f=-X.x,v=-X.y):f=v=0,m=A.x+f,h=A.y+v}else f=p.x.min,m=p.x.max,v=p.y.min,h=p.y.max
c=Math.max(f,Math.min(m-a,c)),s=Math.max(v,Math.min(h-r,s))}w?(o.scrollLeft=IV(c),o.scrollTop=IV(s),q.x=o.scrollLeft,q.y=o.scrollTop):(o.style.left=c+"px",o.style.top=s+"px",q.x=o.offsetLeft,q.y=o.offsetTop),q.events.drag.call(o,new y("drag",e,q),q.params)}return d(e)}))
for(var W=0,N=q.releaseAnchors.length;N>W;W++){var _=q.releaseAnchors[W]
Y.push(x.bind(_,t.end,p(_)))}return document.body.focus(),Y.push(x.bind(document,"selectstart",!1)),Y.push(x.bind(q.anchor,"dragstart",!1)),q.events.dragstart.call(A,new y("dragstart",e,q),q.params),!1}}),r[T._id]=q,T}},e.unbind=function(e){if(e instanceof A){var t=e._id,n=r[t]
n.dragging?n.shouldUnbind=!0:(x.unbind(n.event),r[t]=null),n.events.unbind.call(n.element,new y("unbind",{target:!0},n),n.params)}},e.bindEvent=function(e,t,n){p(e,t,function(e){e.push(n)})},e.unbindEvent=function(e,t,n){p(e,t,function(e){e.remove(n)})},e.invokeEvent=function(e,t,n){p(e,t,function(o){o.call(r[e._id].element,new y(t,n,e))})},e}(),s=function(e,t){var n=parseFloat(u(e,t))
return isNaN(n)?0:n},u=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.style?e.style[t]:void 0},l=function(){return{x:window.innerWidth||document.documentElement.clientWidth||body().clientWidth,y:window.innerHeight||document.documentElement.clientHeight||body().clientHeight}},f=function(e){var t=0,n=0
if(e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop
while(e=e.offsetParent)
return{x:t,y:n}},d=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,!1},m={},v=function(e,t){m[t]||(m[t]=RegExp("(^|\\s)+"+t+"(\\s|$)+")),e.className=e.className.replace(m[t]," ")},h=function(e,t){v(e,t),e.className+=" "+t},g=function(e){return!(!e||"object"!=typeof e)},p=function(e){var t
return e.target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t},w=function(e){var t=[],n=function(){for(var e,n=0,o=t.length;o>n;n++)e=t[n].apply(this,arguments)
return e}
return n.push=function(){t.push.apply(t,arguments)},n.remove=function(){var e=Array.prototype.slice.call(arguments),n=[]
e:for(var o=0,i=t.length;i>o;o++){for(var r=0,a=e.length;a>r;r++)if(t[o]===e[r])continue e
n.push(t[o])}t=n},"function"==typeof e&&t.push(e),n},y=function(t,n,o,i){if(this.type=t,this.originalEvent=n,this.altKey=n.altKey||!1,this.ctrlKey=n.ctrlKey||!1,this.shiftKey=n.shiftKey||!1,this.timestamp=n.timestamp||+new Date,this.pos=e(n),this.binding=o,this.target=p(n),i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r])},x=function(){var e=function(){return document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:document.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(){}}(),t=function(){return document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:document.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:function(){}}()
return{bind:function(n,o,i){var r=i===!1?function(e){return d(e)}:i
i=function(e){return r.call(n,e||window.event)},e(n,o,i)
var a=function(){t(n,o,i)}
return a.unbind=function(){a()},a},unbind:function(e){e()}}}()
window.DragDrop=c,window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),window.requestTimeout=function(e,t){function n(){var r=(new Date).getTime(),a=r-o
a>=t?e.call():i.value=requestAnimFrame(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(e,t)
var o=(new Date).getTime(),i={}
return i.value=requestAnimFrame(n),i},window.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)}}()